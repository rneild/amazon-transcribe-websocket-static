<!DOCTYPE html>

<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"
        integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

    <meta charset="utf-8">
    <title>Amazon Transcribe WebSocket API - Sample Application</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <!-- <link rel="stylesheet" href="https://cdn.shoelace.style/1.0.0-beta24/shoelace.css"> -->
    <!-- <link rel="stylesheet" href="styles.css"> -->

</head>

<body>
    <div class="container">
        <h1>
            MyLounging (Audio Mode)
        </h1>

        <div id="error" class="isa_error"></div>

        <div class="row">
            <div class="col" style="display: none;">

                <label>Access ID:</label>
                <input type="password" id="access_id" placeholder="ACCESS ID" value="AKIASQ7ZK3YV7NMLGXDV" />

                <label>Secret Key:</label>
                <input type="password" id="secret_key" placeholder="SECRET KEY"
                    value="BqQKw6DSJXtr4XZPx0ig2I1mJO7pcM6+dQKTa8ah" />
                <label>Session Token (if using MFA):</label>
                <input type="password" id="session_token" placeholder="SESSION TOKEN" value="" />
            </div>
            <div class="col" style="display: none;">
                <label>Language: </label>
                <select id="language">
                    <optgroup label="English">
                        <option value="en-US">US English (en-US)</option>
                        <option value="en-AU">Australian English (en-AU)</option>
                        <option value="en-GB">British English (en-GB)</option>
                    </optgroup>
                    <optgroup label="French">
                        <option value="fr-CA">Canadian French (fr-CA)</option>
                        <option value="fr-FR">French (fr-FR)</option>
                    </optgroup>
                    <optgroup label="Spanish">
                        <option value="es-US">US Spanish (es-US)</option>
                    </optgroup>
                </select>

                <label>Region:</label>
                <select id="region">
                    <option value="us-east-1">US East (N. Virginia)</option>
                    <option value="us-east-2">US East (Ohio)</option>
                    <option value="us-west-2">US West (Oregon)</option>
                    <option value="ap-southeast-2">Asia Pacific (Sydney)</option>
                    <option value="ca-central-1">Canada (Central)</option>
                    <option value="eu-west-1">EU (Ireland)</option>
                </select>
            </div>
        </div>

        <h2>Q1: Food Service</h2>

        <h4>Did you enjoy dinner? Where there any issues and is there anything that we can do
            to improve?</h4>

        <textarea id="transcript" placeholder="Press Start and speak into your mic" rows="5" cols="50"
            readonly="readonly"></textarea>
        <div class="row">

            <div class="col">
                <button id="start-button" class="button-xl" title="Start Transcription">
                    <i class="fa fa-microphone"></i> Start
                </button>
                <button id="stop-button" class="button-xl" title="Stop Transcription" disabled="true"><i
                        class="fa fa-stop-circle"></i> Stop
                </button>
                <button id="reset-button" class="button-xl button-secondary" title="Clear Transcript">
                    Clear Transcript
                </button>
                <button id="parse-button" xxonclick="parse()" class="button-xl button-secondary"
                    title="Parse Transcript">
                    Parse Transcript
                </button>
            </div>
        </div>

        <script>


            $('#parse-button').click(function () {


                var q = "Who are email addresses the CRO contacts?"

                var payload = {
                    "secret": "passpass",
                    "question": q,
                    "agreement": {
                        "data": {
                            "hrn": "hrn:hrs:agreements:224",
                            "id": "CTA00000028",
                            "title": "test by RG-Rashmitha1",
                            "principalInvestigator": {
                                "personId": 0,
                                "firstName": "Nick",
                                "lastName": "Perez",
                                "name": "Perez, Nick",
                                "contactInformation": {
                                    "phone": "999999999",
                                    "email": "workmailuser01@hrsv12dev.awsapps.com"
                                },
                                "active": false,
                                "hrn": "hrn:hrs:persons:26"
                            },
                            "primaryContact": {
                                "personId": 0,
                                "firstName": "Rebecca",
                                "lastName": "Simms",
                                "name": "Simms, Rebecca",
                                "contactInformation": {
                                    "phone": "123123123",
                                    "email": "workmailuser01@hrsv12dev.awsapps.com"
                                },
                                "active": false,
                                "hrn": "hrn:hrs:persons:6"
                            },
                            "responsibleUnit": {
                                "name": "Immunology",
                                "hrn": "hrn:hrs:orgs:103"
                            },
                            "agreementType": {
                                "id": "CTA",
                                "name": "Clinical Trial Agreement",
                                "description": "Clinical Trial Agreement",
                                "hrn": "hrn:hrs:lists:agrmt-types/CTA"
                            },
                            "projectState": {
                                "id": "Unassigned",
                                "name": "Unassigned"
                            },
                            "workflowStatus": {},
                            "firstDraftTobeGeneratedInternally": true,
                            "counterParties": [
                                {
                                    "person": {
                                        "personId": 0,
                                        "firstName": "Dalton",
                                        "lastName": "Barlow",
                                        "contactInformation": {
                                            "phone": "321321321",
                                            "email": "workmailuser01@hrsv12dev.awsapps.com"
                                        },
                                        "active": false,
                                        "hrn": "hrn:hrs:persons:19"
                                    },
                                    "organization": {
                                        "name": "Huron University",
                                        "hrn": "hrn:hrs:orgs:101"
                                    }
                                }
                            ],
                            "agreementTypeData": {
                                "cro": {
                                    "hrn": "hrn:hrs:orgs:101",
                                    "name": "Huron University"
                                },
                                "croOther": "Test CRO",
                                "willUseCro": true,
                                "typeOfTrial": {
                                    "hrn": "hrn:hrs:lists:agrmt-cta-type-trial/ind-sp",
                                    "name": "Industry Sponsored"
                                },
                                "ctaMaterials": null,
                                "phaseOfStudy": null,
                                "protocolTitle": "",
                                "studyLocations": null,
                                "cooperativeGroup": null,
                                "croContactsOther": [
                                    {
                                        "person": {
                                            "hrn": "hrn:hrs:persons:6",
                                            "lastName": "Simms",
                                            "firstName": "Rebecca",
                                            "contactInformation": {
                                                "email": "workmailuser01@hrsv12dev.awsapps.com",
                                                "phone": "123123123"
                                            }
                                        }
                                    },
                                    {
                                        "person": {
                                            "hrn": "hrn:hrs:persons:71",
                                            "lastName": "G",
                                            "firstName": "Rashmitha",
                                            "contactInformation": {
                                                "email": "rg@hcg.com",
                                                "phone": "8217585275"
                                            }
                                        }
                                    }
                                ],
                                "protocolDocument": null,
                                "croContactPrimary": {
                                    "person": {
                                        "hrn": "hrn:hrs:persons:6",
                                        "lastName": "Simms",
                                        "firstName": "Rebecca",
                                        "contactInformation": {
                                            "email": "workmailuser01@hrsv12dev.awsapps.com",
                                            "phone": "123123123"
                                        }
                                    }
                                },
                                "ctaMaterialsOther": null,
                                "phaseOfStudyOther": "",
                                "consentFormsDocuments": null,
                                "sponsorProtocolNumber": "",
                                "subrecipientsOrganizations": null,
                                "isReimbursementTobeProvided": true,
                                "doesThisInvolveSubrecipients": null,
                                "doesThisInvolveOtherMaterials": false,
                                "isStudyPartOfCooperativeGroup": null
                            },
                            "isAgreementModificationInProcess": false,
                            "office": {
                                "id": 1,
                                "name": "Admin office"
                            },
                            "isEarlyTermination": false,
                            "tags": [
                                {
                                    "name": "tag1011",
                                    "hrn": "hrn:hrs:lists:tags/default~tag1011"
                                }
                            ],
                            "submitDate": "2023-01-23T10:13:41.577213Z",
                            "active": true,
                            "dateCreated": "2023-01-20T16:47:31.397472Z",
                            "dateModified": "2023-01-23T13:08:15.526143Z",
                            "submissionType": "Agreement",
                            "actions": [
                                "ApplyTag",
                                "AssignOffice",
                                "AssignOwner",
                                "BypassAncillaryBlock",
                                "CopyAgreement",
                                "CreateFollowUp",
                                "Discard",
                                "GenerateAgreement",
                                "LogSendNote",
                                "ManageAccess",
                                "ManageDocuments",
                                "ManageRelationships",
                                "RemoveTag",
                                "RequestClarification",
                                "RequestPIConcurrence",
                                "Withdraw",
                                "CreateAncillaryReview"
                            ],
                            "assignments": [
                                "agreement_staff"
                            ],
                            "fieldAttributes": {
                                "note": [
                                    {
                                        "fieldId": "isPrivate",
                                        "isRestricted": false
                                    },
                                    {
                                        "fieldId": "includeAgreementFile",
                                        "isRestricted": false
                                    }
                                ]
                            }
                        }
                    }
                }

                // var url = 'https://e31l0t06g3.execute-api.us-west-2.amazonaws.com/default/chatGPT'
                var url = 'https://si47ijc9w3.execute-api.us-west-2.amazonaws.com/default/chatGPT'

                // $.post(url, function (payload) {
                //     $("#positive").html(data);
                //     alert(1)
                // });

                $.ajax({
                    url: url,
                    type: "POST",
                    crossDomain: true,
                    data: JSON.stringify(payload),
                    // data: payload,
                    dataType: "json",
                    success: function (response) {
                        console.log(response)
                        // alert(response)
                        // var resp = JSON.parse(response)
                        // alert(resp.status);
                        console.log(response.secret)
                    },
                    error: function (xhr, status) {
                        alert("error");
                    }
                });


            });


        </script>





        <span id="positive">
            <h2>Positives</h2>
            <p>xxx</p>
        </span>


        <!--XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-->
        <!-- <h2>Q1: Laundry Service</h2>

        <h4>Are you satisfied with the laundry service today? Are your clothes clean and fresh?</h4>

        <textarea id="transcript2" placeholder="Press Start and speak into your mic" rows="5" cols="50"
            readonly="readonly"></textarea>
        <div class="row">

            <div class="col">
                <button id="start-button2" class="button-xl" title="Start Transcription">
                    <i class="fa fa-microphone"></i> Start
                </button>
                <button id="stop-button2" class="button-xl" title="Stop Transcription" disabled="true"><i
                        class="fa fa-stop-circle"></i> Stop
                </button>
                <button id="reset-button2" class="button-xl button-secondary" title="Clear Transcript">
                    Clear Transcript
                </button>
            </div>
        </div> -->


    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="dist/main.js"></script>
</body>

</html>